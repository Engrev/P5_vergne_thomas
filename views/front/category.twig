{% extends 'front/layout.twig' %}

{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ _path_ }}/public/css/posts.css">
{% endblock %}

{% block body %}
    <div class="container">
        <h1>{{ category.name }}</h1>

        {% for post in posts %}
            <article class="post" id="post-{{ post.id_post }}">
                <h2 class="post-title">
                    <a href="{{ _path_ }}/articles/{{ post.p_link }}">{{ post.title }}</a>
                </h2>
                <p class="text-muted post-author">Publié par {{ post.firstname ~ ' ' ~ post.lastname }} | Publié le {{ post.date_add_fr }}{% if post.date_add != post.date_upd %} | Mis à jour le {{ post.date_upd_fr }}{% endif %}</p>
                <p class="post-preview">{{ post.content|slice(0,100) }}{% if post.content|length > 100 %}...{% endif %}</p>
                <a href="{{ _path_ }}/articles/{{ post.p_link }}" class="btn btn-secondary post-read-more">Lire la suite</a>
            </article>
        {% endfor %}

        {% if pagination_create is not empty %}
            <nav class="mt-5" aria-label="Page navigation">
                <ul class="pagination justify-content-center">
                    {{ pagination_create | raw }}
                </ul>
            </nav>
        {% endif %}
    </div>
{% endblock %}